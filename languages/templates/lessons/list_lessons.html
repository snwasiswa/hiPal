<!doctype html>
<html lang="en">
{% extends 'base.html' %}
{% load static %}

<head>
    <!-- Required meta templatetags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

    <!--Incorporated CSS-->
    <link rel="stylesheet" href="{% static 'languages/styles.css' %}" type="text/css">

    <title>{% block title %}
        {% if language %}
        {{ language.title }} lessons
        {% else %}
        All lessons
        {% endif %}
        {% endblock %}
    </title>
</head>

<body>
    {% block content %}
    <div class="container bg-secondary">

        <div class="text-center">
            <h1 class="title">
                {% if language %}
                {{ language.title}} lessons
                {% else %}
                All lessons
                {% endif %}
            </h1>
        </div>

        <div class="wrapper">

            <div class="sidebar">
                <h2 class="text-light">Languages</h2>
                <p id="units">
                    {% for lang in languages %}
                <ul {% if language == lang %} class="selected" {% endif %}>
                    <a href="{% url 'lesson_list_language' lang.slug %}" style="font-size:28px"> {{ lang.title }}</a>
                    <br><span class="text-light">{{ lang.total_lessons }} lessons</span>
                </ul>
                {% endfor %}
                <ul {% if not language %} class="selected" {% endif %}>
                    <a href="{% url 'lesson_list' %}" class="text-secondary" style="font-size:28px">All Contents</a>
                </ul>
                </p>
            </div>
               <div class="main text-center py-5">
                {% for lesson in lessons %}
                {% with language=lesson.language %}
                <h3>
                    <a href="{% url 'lesson_detail' lesson.slug %}"> {{ lesson.title }}</a>
                </h3>
                <p class="text-secondary">
                    <a href="{% url 'lesson_list_language' language.slug %}"> {{ language }}</a>
                    {{ lesson.total_units }} units.
                    Instructor: {{ lesson.creator.get_full_name }}
                </p>
                {% endwith %}
                {% endfor %}
            </div>
        </div>
    </div>
    {% endblock %}

</body>

</html>